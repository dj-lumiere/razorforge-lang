# Test Crashable error types and intrinsics

# Define a custom Crashable error type (with message)
record MyCustomError follows Crashable {
    message: text
}

# DivisionByZeroError - no additional fields needed
record DivisionByZeroError follows Crashable {
}

# A function that throws a proper Crashable error
routine divide!(a: s32, b: s32) -> s32
{
    if (b == 0)
    {
        throw DivisionByZeroError()
    }
    return a // b
}

routine main() -> void
{
    # Test verify! intrinsic
    let x: s64 = 5
    verify!(x > 0)
    verify!(x > 0, "x must be positive")

    # Test normal function call
    let result: s32 = divide!(10, 2)
}
